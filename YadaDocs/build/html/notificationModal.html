<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>7. Notification Modal &#8212; Yada Framework master documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/yadaDocs.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <script type="text/javascript" src="_static/yadaDocs.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="8. New Eclipse Project" href="newEclipseProject.html" />
    <link rel="prev" title="6. Ajax Modal" href="ajaxModal.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Yada Framework</a>
        <span class="navbar-text navbar-version pull-left"><b>master</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="forms/fieldsComponents.html">1. Form Fields and Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="forms/overview.html">2. Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="forms/uploads.html">3. File Uploads</a></li>
<li class="toctree-l1"><a class="reference internal" href="datatables.html">4. Data Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="ajax.html">5. Ajax</a></li>
<li class="toctree-l1"><a class="reference internal" href="ajaxModal.html">6. Ajax Modal</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">7. Notification Modal</a></li>
<li class="toctree-l1"><a class="reference internal" href="newEclipseProject.html">8. New Eclipse Project</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">7. Notification Modal</a><ul>
<li><a class="reference internal" href="#description">7.1. Description</a></li>
<li><a class="reference internal" href="#prerequisites">7.2. Prerequisites</a></li>
<li><a class="reference internal" href="#java-api">7.3. Java API</a><ul>
<li><a class="reference internal" href="#normal-request-normal-response">7.3.1. Normal request / normal response</a></li>
<li><a class="reference internal" href="#normal-request-redirect-response">7.3.2. Normal request / redirect response</a></li>
<li><a class="reference internal" href="#ajax-request">7.3.3. Ajax request</a><ul>
<li><a class="reference internal" href="#returning-from-the-controller">7.3.3.1. Returning from the Controller</a></li>
<li><a class="reference internal" href="#returning-additional-html">7.3.3.2. Returning additional HTML</a></li>
<li><a class="reference internal" href="#returning-additional-data">7.3.3.3. Returning additional data</a></li>
<li><a class="reference internal" href="#redirect">7.3.3.4. Redirect</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-functionality">7.3.4. Other functionality</a><ul>
<li><a class="reference internal" href="#vertically-center-0-3-3">7.3.4.1. Vertically Center <span class="yadaversion">0.3.3</span></a></li>
<li><a class="reference internal" href="#generic-modal-classes-0-3-3">7.3.4.2. Generic modal classes <span class="yadaversion">0.3.3</span></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#javascript-api">7.4. Javascript API</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="ajaxModal.html" title="Previous Chapter: 6. Ajax Modal"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 6. Ajax Modal</span>
    </a>
  </li>
  <li>
    <a href="newEclipseProject.html" title="Next Chapter: 8. New Eclipse Project"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">8. New Eclips... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/notificationModal.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="notification-modal">
<h1>7. Notification Modal<a class="headerlink" href="#notification-modal" title="Permalink to this headline">¶</a></h1>
<p class="rubric">Opening a modal with a message for the user</p>
<div class="section" id="description">
<h2>7.1. Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Show a feedback message for the user in a new modal by calling a java or javascript api.</p>
<p>The modal has a title, one or more messages, a severity for each message:</p>
<img alt="_images/modal-notify-1.jpg" src="_images/modal-notify-1.jpg" />
</div>
<div class="section" id="prerequisites">
<h2>7.2. Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The HTML page must contain the following placeholder:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">th:include</span><span class="o">=</span><span class="s">&quot;/yada/modalNotify :: modal&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal fade&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;yada-notification&quot;</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;dialog&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">th:if</span><span class="o">=</span><span class="s">&quot;${YADA_NBODY!=null}&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#yada-notification&#39;</span><span class="p">).</span><span class="nx">modal</span><span class="p">(</span><span class="s1">&#39;show&#39;</span><span class="p">);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#yada-notification&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;hidden.bs.modal&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#yada-notification .glyphicon&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">&quot;hidden&quot;</span><span class="p">);</span>
        <span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>This is usually inserted in a common footer so that you don’t need to remember adding it to each page.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="admonition-title">Todo</p>
<p>make a dialect tag for this</p>
</div>
</div>
<div class="section" id="java-api">
<h2>7.3. Java API<a class="headerlink" href="#java-api" title="Permalink to this headline">¶</a></h2>
<p>The modal can be opened after a standard or ajax HTTP request and can be shown on the browser after a normal HTTP response or after a redirect.
The notification can also close itself after a timeout, reload the current page when the user dismisses it, or perform a redirect on dismiss.
When used in an ajax request it has some optional functionality.</p>
<p>Notifications are handled by the YadaNotify &#64;Component and therefore need this autowiring:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span> <span class="kd">private</span> <span class="n">YadaNotify</span> <span class="n">yadaNotify</span><span class="o">;</span>
</pre></div>
</div>
<p>You can then add messages in your &#64;RequestMapping methods with a syntax like the following:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">yadaNotify</span><span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">&quot;Login success&quot;</span><span class="o">,</span> <span class="n">model</span><span class="o">).</span><span class="na">ok</span><span class="o">().</span><span class="na">message</span><span class="o">(</span><span class="s">&quot;You have been logged in&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">();</span>
</pre></div>
</div>
<p>The title() method is the first one to call because it starts the builder. It has many variations, some of which are used for localization (see the Javadoc).
The message() method accepts HTML tags so you will need to escape all HTML <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Glossary/Entity#Reserved_characters">reserved characters</a>.</p>
<p>You can set the message severity using one of these methods:</p>
<ul class="simple">
<li><dl class="simple">
<dt>ok()</dt><dd><p>Normal severity</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>info()</dt><dd><p>Can either be a warning or something that needs special attention from the user</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>error()</dt><dd><p>Error message</p>
</dd>
</dl>
</li>
</ul>
<p>All of them accept a boolean value so that the severity can be set conditionally. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">boolean</span> <span class="n">failed</span><span class="o">=</span><span class="kc">false</span><span class="o">;</span>
<span class="n">yadaNotify</span><span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">&quot;Login &quot;</span> <span class="o">+</span> <span class="n">failed</span><span class="o">?</span><span class="s">&quot;failed&quot;</span><span class="o">:</span><span class="s">&quot;success&quot;</span><span class="o">,</span> <span class="n">model</span><span class="o">).</span><span class="na">ok</span><span class="o">(!</span><span class="n">failed</span><span class="o">).</span><span class="na">error</span><span class="o">(</span><span class="n">failed</span><span class="o">).</span><span class="na">message</span><span class="o">(</span><span class="s">&quot;You have {}been logged in&quot;</span><span class="o">,</span> <span class="n">failed</span><span class="o">?</span><span class="s">&quot;not &quot;</span><span class="o">:</span><span class="s">&quot;&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">();</span>
</pre></div>
</div>
<p>The previous example shows the use of <a class="reference external" href="https://www.slf4j.org/faq.html#logging_performance">slf4j placeholders</a> in the message() method.</p>
<p>When calling the add() method you’re actually creating a message with the values previously stored in the builder, adding it to the current HTTP Request.
The add() method also terminates the builder chain and you can’t call further methods after it.
If you want to return more than one message, you can use yadaNotify as many times as you want, even in different controllers:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">yadaNotify</span><span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">&quot;Login success&quot;</span><span class="o">,</span> <span class="n">model</span><span class="o">).</span><span class="na">ok</span><span class="o">().</span><span class="na">message</span><span class="o">(</span><span class="s">&quot;You have been logged in&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">();</span>
<span class="n">yadaNotify</span><span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">&quot;Forbidden&quot;</span><span class="o">,</span> <span class="n">model</span><span class="o">).</span><span class="na">info</span><span class="o">().</span><span class="na">message</span><span class="o">(</span><span class="s">&quot;Access to the dashboard has been revoked&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">();</span>
</pre></div>
</div>
<p>The resulting modal shows a panel for each message, and a top icon corresponding to the highest severity found in those messages:</p>
<img alt="_images/modal-notify-2.jpg" src="_images/modal-notify-2.jpg" />
<div class="section" id="normal-request-normal-response">
<h3>7.3.1. Normal request / normal response<a class="headerlink" href="#normal-request-normal-response" title="Permalink to this headline">¶</a></h3>
<p>In a normal request/response, just use the Model as seen above.
You can then return the thymeleaf view as usual: just after showing the target view, the browser will open the modal.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&quot;/dashboard&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">dashboard</span><span class="o">(</span><span class="n">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">yadaNotify</span><span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">&quot;Login success&quot;</span><span class="o">,</span> <span class="n">model</span><span class="o">).</span><span class="na">ok</span><span class="o">().</span><span class="na">message</span><span class="o">(</span><span class="s">&quot;You have been logged in&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">();</span>
        <span class="k">return</span> <span class="s">&quot;/dashboard&quot;</span><span class="o">;</span>
</pre></div>
</div>
</div>
<div class="section" id="normal-request-redirect-response">
<h3>7.3.2. Normal request / redirect response<a class="headerlink" href="#normal-request-redirect-response" title="Permalink to this headline">¶</a></h3>
<p>If you want to perform a redirect when exiting the controller, use RedirectAttributes instead of Model:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&quot;/dashboard&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">dashboard</span><span class="o">(</span><span class="n">RedirectAttributes</span> <span class="n">redirectAttributes</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">yadaNotify</span><span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">&quot;Login success&quot;</span><span class="o">,</span> <span class="n">redirectAttributes</span><span class="o">).</span><span class="na">ok</span><span class="o">().</span><span class="na">message</span><span class="o">(</span><span class="s">&quot;You have been logged in&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">();</span>
        <span class="k">return</span> <span class="s">&quot;redirect:/console&quot;</span><span class="o">;</span>
</pre></div>
</div>
<p>The browser will perform a redirect, call the server again, display the target view then show the modal.
The server can test if a modal is pending with the following methods:</p>
<div class="highlight-java notranslate" id="redirectonclose"><div class="highlight"><pre><span></span><span class="n">isNotificationPending</span><span class="o">(...)</span>
<span class="n">isErrorSet</span><span class="o">(...)</span>
</pre></div>
</div>
<p>You can also activate a redirect only when the modal is closed by the user with <code class="docutils literal notranslate"><span class="pre">redirectOnClose()</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&quot;/dashboard&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">dashboard</span><span class="o">(</span><span class="n">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">yadaNotify</span><span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">&quot;Login success&quot;</span><span class="o">,</span> <span class="n">model</span><span class="o">).</span><span class="na">ok</span><span class="o">().</span><span class="na">message</span><span class="o">(</span><span class="s">&quot;You have been logged in&quot;</span><span class="o">).</span><span class="na">redirectOnClose</span><span class="o">(</span><span class="s">&quot;/console&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">();</span>
        <span class="k">return</span> <span class="s">&quot;/dashboard&quot;</span><span class="o">;</span>
</pre></div>
</div>
</div>
<div class="section" id="ajax-request">
<h3>7.3.3. Ajax request<a class="headerlink" href="#ajax-request" title="Permalink to this headline">¶</a></h3>
<div class="section" id="returning-from-the-controller">
<h4>7.3.3.1. Returning from the Controller<a class="headerlink" href="#returning-from-the-controller" title="Permalink to this headline">¶</a></h4>
<p>Ajax requests work roughly the same as normal requests.
The notification will be shown only if the result contains the “/yada/modalNotify” modal.
This can be done in one of the following alternative ways:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="s">&quot;/yada/modalNotify&quot;</span><span class="o">;</span>
<span class="k">return</span> <span class="n">YadaViews</span><span class="o">.</span><span class="na">AJAX_NOTIFY</span><span class="o">;</span>
<span class="k">return</span> <span class="n">yadaNotify</span><span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">&quot;Login success&quot;</span><span class="o">,</span> <span class="n">model</span><span class="o">).</span><span class="na">ok</span><span class="o">().</span><span class="na">message</span><span class="o">(</span><span class="s">&quot;You have been logged in&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">();</span>
</pre></div>
</div>
<p>The first version should of course be avoided for future compatibility.
The last version is very convenient when returning a message at the end of the &#64;RequestMapping method.</p>
</div>
<div class="section" id="returning-additional-html">
<h4>7.3.3.2. Returning additional HTML<a class="headerlink" href="#returning-additional-html" title="Permalink to this headline">¶</a></h4>
<p>The problem with the above approach is that you might want to also return some other HTML,
for example the original form with validation errors, or something to insert in the page.
The solution is to add a conditional include of the modalNotify in your returned view:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="c">&lt;!-- Some other html that you need goes before or after --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;yadaResponseData&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">th:if</span><span class="o">=</span><span class="s">&quot;${YADA_NBODY}&quot;</span> <span class="na">th:include</span><span class="o">=</span><span class="s">&quot;/yada/modalNotify :: modal&quot;</span> <span class="na">th:remove</span><span class="o">=</span><span class="s">&quot;tag&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>The yadaResponseData element is hidden by <cite>yada.css</cite>.</p>
<div class="admonition-todo admonition" id="index-1">
<p class="admonition-title">Todo</p>
<p>Replace /yada/modalNotify with YadaViews.AJAX_NOTIFY in the yadaResponseData example above</p>
</div>
</div>
<div class="section" id="returning-additional-data">
<h4>7.3.3.3. Returning additional data<a class="headerlink" href="#returning-additional-data" title="Permalink to this headline">¶</a></h4>
<p>You might want to return, together with a notification, some key-value pairs for use in a javascript handler
defined with <code class="docutils literal notranslate"><span class="pre">yada:successHandler</span></code> (see <a class="reference internal" href="ajax.html#ajax-postprocessing"><span class="std std-ref">Postprocessing</span></a>).</p>
<p>You can achieve this by placing a Map called “resultMap” in the Model:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">resultMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
<span class="n">resultMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;deletedTaskId&quot;</span><span class="o">,</span> <span class="n">taskId</span><span class="o">);</span>
<span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">&quot;resultMap&quot;</span><span class="o">,</span> <span class="n">resultMap</span><span class="o">);</span>
</pre></div>
</div>
<p>The data can be retrieved in the javascript handler with <code class="docutils literal notranslate"><span class="pre">yada.getEmbeddedResult</span></code>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">editTaskHandler</span><span class="p">(</span><span class="nx">responseText</span><span class="p">,</span> <span class="nx">responseHtml</span><span class="p">,</span> <span class="nx">form</span><span class="p">,</span> <span class="nx">button</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">yada</span><span class="p">.</span><span class="nx">getEmbeddedResult</span><span class="p">(</span><span class="nx">responseHtml</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">taskId</span> <span class="o">=</span> <span class="nx">result</span><span class="p">[</span><span class="s1">&#39;deletedTaskId&#39;</span><span class="p">];</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#taskRow&#39;</span> <span class="o">+</span> <span class="nx">taskId</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="redirect">
<h4>7.3.3.4. Redirect<a class="headerlink" href="#redirect" title="Permalink to this headline">¶</a></h4>
<p>To show a notification with a redirect when returning from an ajax call, the only option is to perform the redirect
on modal close with <a class="reference internal" href="#redirectonclose"><span class="std std-ref">redirectOnClose</span></a>.</p>
<div class="admonition-todo admonition" id="index-2">
<p class="admonition-title">Todo</p>
<p>What happens if the controller returns “redirect:/xxx” on an ajax call?</p>
</div>
</div>
</div>
<div class="section" id="other-functionality">
<h3>7.3.4. Other functionality<a class="headerlink" href="#other-functionality" title="Permalink to this headline">¶</a></h3>
<div class="section" id="vertically-center-0-3-3">
<h4>7.3.4.1. Vertically Center <span class="yadaversion">0.3.3</span><a class="headerlink" href="#vertically-center-0-3-3" title="Permalink to this headline">¶</a></h4>
<p>If you’re using Bootstrap 4 you can vertically center the modal with the method <code class="docutils literal notranslate"><span class="pre">center()</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">yadaNotify</span><span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">&quot;Login success&quot;</span><span class="o">,</span> <span class="n">model</span><span class="o">).</span><span class="na">ok</span><span class="o">().</span><span class="na">message</span><span class="o">(</span><span class="s">&quot;You have been logged in&quot;</span><span class="o">).</span><span class="na">center</span><span class="o">().</span><span class="na">add</span><span class="o">();</span>
</pre></div>
</div>
</div>
<div class="section" id="generic-modal-classes-0-3-3">
<h4>7.3.4.2. Generic modal classes <span class="yadaversion">0.3.3</span><a class="headerlink" href="#generic-modal-classes-0-3-3" title="Permalink to this headline">¶</a></h4>
<p>You can add any class to the “modal-dialog” div by setting the <code class="docutils literal notranslate"><span class="pre">extraDialogClasses</span></code> Model attribute:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">&quot;extraDialogClasses&quot;</span><span class="o">,</span> <span class="s">&quot;myclass1 myclass2&quot;</span><span class="o">);</span>
<span class="k">return</span> <span class="n">yadaNotify</span><span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">&quot;Saved&quot;</span><span class="o">,</span> <span class="n">model</span><span class="o">).</span><span class="na">ok</span><span class="o">().</span><span class="na">message</span><span class="o">(</span><span class="s">&quot;Item saved&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">();</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-3">
<p class="admonition-title">Todo</p>
<p>Clearing all previous messages, “Chiamare javascript arbitrario decidendo lato server”, Autoclose, modalReloadOnClose,</p>
</div>
</div>
</div>
</div>
<div class="section" id="javascript-api">
<h2>7.4. Javascript API<a class="headerlink" href="#javascript-api" title="Permalink to this headline">¶</a></h2>
<p>The notification modal can also be opened in javascript:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">yada</span><span class="p">.</span><span class="nx">showOkModal</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">redirectUrl</span><span class="p">)</span>
<span class="nx">yada</span><span class="p">.</span><span class="nx">showInfoModal</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">redirectUrl</span><span class="p">)</span>
<span class="nx">yada</span><span class="p">.</span><span class="nx">showErrorModal</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">redirectUrl</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>title</dt><dd><p>the modal title</p>
</dd>
<dt>message</dt><dd><p>the modal message</p>
</dd>
<dt>redirectUrl</dt><dd><p>optional url to redirect when the modal is closed</p>
</dd>
</dl>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Cristian Ghezzi.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>