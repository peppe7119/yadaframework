<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Ajax Modal &#8212; Yada Framework master documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/yadaDocs.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <script type="text/javascript" src="_static/yadaDocs.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="New Eclipse Project" href="newEclipseProject.html" />
    <link rel="prev" title="Ajax" href="ajax.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Yada Framework</a>
        <span class="navbar-text navbar-version pull-left"><b>master</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="forms/overview.html">     Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="ajax.html">     Ajax</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">     Ajax Modal</a></li>
<li class="toctree-l1"><a class="reference internal" href="newEclipseProject.html">     New Project</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Ajax Modal</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#html-placeholder">HTML placeholder</a></li>
<li><a class="reference internal" href="#html-for-the-ajax-call">HTML for the ajax call</a></li>
<li><a class="reference internal" href="#java-for-the-controller">Java for the &#64;Controller</a></li>
<li><a class="reference internal" href="#html-of-the-modal">HTML of the modal</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="ajax.html" title="Previous Chapter: Ajax"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Ajax</span>
    </a>
  </li>
  <li>
    <a href="newEclipseProject.html" title="Next Chapter: New Eclipse Project"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">New Eclipse Project &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/ajaxModal.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">
  <li>
    <a href="ajax.html" title="Previous Chapter: Ajax"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Ajax</span>
    </a>
  </li>
  <li>
    <a href="newEclipseProject.html" title="Next Chapter: New Eclipse Project"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">New Eclipse Project &raquo;</span>
    </a>
  </li>
<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <p></p>
<div class="section" id="ajax-modal">
<h1>Ajax Modal<a class="headerlink" href="#ajax-modal" title="Permalink to this headline">¶</a></h1>
<p class="rubric">Opening a modal with an ajax call</p>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Make a Bootstrap Modal open as a result of an ajax call.
For example, by clicking on an “Edit” button
a modal opens with a form to edit the chosen element.
The modal content is generated on the server. The browser just opens it.</p>
<img alt="_images/modal-example.jpg" src="_images/modal-example.jpg" />
<p>The implementation needs the following parts:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>HTML placeholder</dt>
<dd>The page must contain the standard HTML placeholder for opening modals. This is
usually inserted in a common footer so that you don’t need to remember adding it to the page.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>HTML for the ajax call</dt>
<dd>The ajax call can be made in many ways: with a <a class="reference internal" href="datatables.html"><span class="doc">DataTable</span></a> button, with an <a class="reference internal" href="ajax.html"><span class="doc">ajax link</span></a>, via custom javascript …</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Java for the &#64;Controller</dt>
<dd>The modal must be returned by a &#64;RequestMapping method of a &#64;Controller.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>HTML of the modal</dt>
<dd>It specifies the title, header, body, footer and script sections (all are optional)</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="html-placeholder">
<h2>HTML placeholder<a class="headerlink" href="#html-placeholder" title="Permalink to this headline">¶</a></h2>
<p>The HTML placeholder must be the <code class="docutils literal notranslate"><span class="pre">class=&quot;modal&quot;</span></code> node of a Bootstrap Modal and have <code class="docutils literal notranslate"><span class="pre">id=&quot;ajaxModal&quot;</span></code>:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ajaxModal&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal fade &quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;-1&quot;</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;dialog&quot;</span> <span class="na">aria-hidden</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="html-for-the-ajax-call">
<h2>HTML for the ajax call<a class="headerlink" href="#html-for-the-ajax-call" title="Permalink to this headline">¶</a></h2>
<p>The modal can be opened with any ajax call performed by Yada. In this example we show an ajax link:</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Ajax link example</p>
</div>
</div>
<div class="section" id="java-for-the-controller">
<h2>Java for the &#64;Controller<a class="headerlink" href="#java-for-the-controller" title="Permalink to this headline">¶</a></h2>
<p>The Java &#64;Controller must return a full Bootstrap Modal. The content of the <code class="docutils literal notranslate"><span class="pre">class=&quot;modal&quot;</span></code> node will be inserted in the HTML placeholder and shown.</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">&#64;Controller example</p>
</div>
</div>
<div class="section" id="html-of-the-modal">
<h2>HTML of the modal<a class="headerlink" href="#html-of-the-modal" title="Permalink to this headline">¶</a></h2>
<p>You can use your own Bootstrap Modal html or take advantage of the Yada Generic Modal.
With the Yada Generic Modal you only define the section fragments that you need, producing a full Bootstrap Modal.</p>
<p>The fragments are:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>modal title</dt>
<dd>Visible in the modal header as an &lt;h4&gt; when no custom modal header fragment is given</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>custom modal header</dt>
<dd>A full Boostrap modal-header fragment. The modal title is ignored when using this fragment</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>modal body</dt>
<dd>The body content</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>modal footer</dt>
<dd>The html for the bottom part of the modal. Usually Submit and Close buttons are located here. By default, there’s just the close button.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>modal script</dt>
<dd>Some custom script to be run when the modal code is inserted on page.</dd>
</dl>
</li>
</ul>
<p>The code uses standard Thymeleaf <a class="reference external" href="https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#template-layout">fragment</a> syntax.
In the following example, four fragments have been defined in the same html file.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">th:replace</span><span class="o">=</span><span class="s">&quot;/yada/modalGeneric::fragment(~{::modalTitle},~{::modalHeader},~{::modalBody},~{::modalFooter},~{::modalScript})&quot;</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">th:fragment</span><span class="o">=</span><span class="s">&quot;modalTitle&quot;</span><span class="p">&gt;</span>This is the title<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">th:block</span> <span class="na">th:fragment</span><span class="o">=</span><span class="s">&quot;modalBody&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-body&quot;</span><span class="p">&gt;</span>
                        This is the body
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">th:block</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">th:fragment</span><span class="o">=</span><span class="s">&quot;modalFooter&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-footer&quot;</span><span class="p">&gt;</span>
                        The footer here
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">th:fragment</span><span class="o">=</span><span class="s">&quot;modalScript&quot;</span><span class="p">&gt;</span>
                <span class="nx">$</span><span class="p">{</span><span class="s2">&quot;This is the script&quot;</span><span class="p">}</span>
        <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p class="last">Check that the example works</p>
</div>
<p>To remove a fragment from the modal, use the ~{} syntax. To keep the default value use the _ character:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">th:replace</span><span class="o">=</span><span class="s">&quot;/yada/modalGeneric::fragment(~{::modalTitle},_,~{::modalBody},~{},~{})&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Cristian Ghezzi.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>